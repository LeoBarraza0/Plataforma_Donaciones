{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/donation-platform-css.css') }}">
{% endblock %}

{% block content %}
<header>
    <h1>Conexión Solidaria</h1>
    <p>Uniendo donantes con causas importantes</p>
</header>

<nav class="nav">
    <a href="#inicio">Inicio</a>
    <a href="#proyectos">Proyectos</a>
    <a href="#organizaciones">Organizaciones</a>
    <a href="#donar">Donar</a>
    <a href="{{ url_for('auth.register') }}">Registrarse</a>
</nav>

<div id="loader" class="loader" aria-label="Cargando contenido"></div>

<main class="container" style="display: none;">
    <div class="dashboard">
        <div class="card">
            <h3>Total Donaciones</h3>
            <p id="totalDonations">$0</p>
        </div>
        <div class="card">
            <h3>Proyectos Activos</h3>
            <p id="activeProjects">0</p>
        </div>
        <div class="card">
            <h3>Organizaciones Registradas</h3>
            <p id="registeredOrgs">0</p>
        </div>
    </div>
    
    <div class="carousel">
        <div class="carousel-container" id="projectCarousel" style="transform: translateX(0%);"><div class="carousel-item">
            <h3>Educación para Todos</h3>
            <p>Ayuda a niños de zonas rurales a acceder a educación de calidad</p>
            <p><strong>Organización:</strong> Fundación Educativa</p>
        </div><div class="carousel-item">
            <h3>Agua Limpia</h3>
            <p>Proyecto para proporcionar agua potable a comunidades necesitadas</p>
            <p><strong>Organización:</strong> Agua para Todos</p>
        </div><div class="carousel-item">
            <h3>Reforestación Urbana</h3>
            <p>Plantación de árboles en zonas urbanas para mejorar la calidad del aire</p>
            <p><strong>Organización:</strong> Verde Futuro</p>
        </div></div>
        <button class="carousel-button prev">&lt;</button>
        <button class="carousel-button next">&gt;</button>
    </div>

    <div class="projects" id="projectList">
        <!-- Projects will be loaded dynamically here -->
    </div>

    <div class="card">
        <h2>Registrar Nueva Organización</h2>
        <form id="orgForm">
            <div class="form-group">
                <label for="orgName">Nombre de la Organización</label>
                <input type="text" id="orgName" name="name" required>
            </div>
            <div class="form-group">
                <label for="orgDescription">Descripción</label>
                <textarea id="orgDescription" name="description" required></textarea>
            </div>
            <div class="form-group">
                <label for="orgCategory">Categoría</label>
                <select id="orgCategory" name="category" required>
                    <option value="">Seleccione una categoría</option>
                    <option value="educacion">Educación</option>
                    <option value="salud">Salud</option>
                    <option value="ambiente">Medio Ambiente</option>
                    <option value="social">Desarrollo Social</option>
                </select>
            </div>
            <button type="submit" class="btn">Registrar Organización</button>
        </form>
    </div>
</main>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/donation-platform-js.js') }}"></script>
{% endblock %}